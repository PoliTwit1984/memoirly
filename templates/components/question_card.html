{% macro render_question_card(question) %}
<div class="question-card {% if question.answered_at %}answered{% endif %}" 
     id="question-{{ question.id }}" 
     draggable="true" 
     data-id="{{ question.id }}"
     data-position="{{ question.position }}">
    <div class="question-content">
        <div class="question-header">
            <div class="drag-handle">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="9" cy="6" r="2"/>
                    <circle cx="9" cy="12" r="2"/>
                    <circle cx="9" cy="18" r="2"/>
                    <circle cx="15" cy="6" r="2"/>
                    <circle cx="15" cy="12" r="2"/>
                    <circle cx="15" cy="18" r="2"/>
                </svg>
            </div>
            <h3 class="question-text">{{ question.content }}</h3>
            {% if not question.answered_at %}
            <button onclick="handleDelete(event, {{ question.id }})" class="btn-delete" title="Delete question">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
                </svg>
            </button>
            {% endif %}
        </div>
        {% if question.answered_at %}
            <div class="answer-content">
                <p>{{ question.answer }}</p>
                {% if question.image_path %}
                <div class="answer-image">
                    <img src="{{ url_for('static', filename='uploads/' + question.image_path) }}" alt="Shared memory">
                </div>
                {% endif %}
                <div class="answer-meta">
                    Answered on {{ question.answered_at.strftime('%B %d, %Y') }}
                </div>
            </div>
        {% else %}
            <div class="pending-answer">
                <p>Waiting for response...</p>
            </div>
        {% endif %}
    </div>
</div>
{% endmacro %}
