{% extends "base.html" %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="flex items-center mb-6">
        <a href="{{ url_for('tribes.view_tribe', tribe_id=membership.tribe_id) }}" 
           class="text-gray-600 hover:text-gray-800 mr-4">
            <i class="fas fa-arrow-left"></i> Back to Tribe
        </a>
        <h1 class="text-3xl font-bold">Notification Settings</h1>
    </div>
    
    <div class="max-w-lg">
        <form method="POST" class="bg-white rounded-lg shadow-md p-6">
            <div class="space-y-4 mb-6">
                <div class="flex items-center">
                    <input type="checkbox" id="notify_questions" name="notify_questions"
                           {% if membership.notification_settings.questions %}checked{% endif %}
                           class="w-4 h-4 text-blue-600">
                    <label for="notify_questions" class="ml-2 block text-gray-700">
                        Notify me about new questions
                    </label>
                </div>
                
                <div class="flex items-center">
                    <input type="checkbox" id="notify_answers" name="notify_answers"
                           {% if membership.notification_settings.answers %}checked{% endif %}
                           class="w-4 h-4 text-blue-600">
                    <label for="notify_answers" class="ml-2 block text-gray-700">
                        Notify me about new answers
                    </label>
                </div>
                
                <div class="flex items-center">
                    <input type="checkbox" id="notify_comments" name="notify_comments"
                           {% if membership.notification_settings.comments %}checked{% endif %}
                           class="w-4 h-4 text-blue-600">
                    <label for="notify_comments" class="ml-2 block text-gray-700">
                        Notify me about new comments
                    </label>
                </div>
                
                <div class="flex items-center">
                    <input type="checkbox" id="notify_reactions" name="notify_reactions"
                           {% if membership.notification_settings.reactions %}checked{% endif %}
                           class="w-4 h-4 text-blue-600">
                    <label for="notify_reactions" class="ml-2 block text-gray-700">
                        Notify me about reactions to my content
                    </label>
                </div>
            </div>
            
            <div class="mb-6">
                <label for="digest_frequency" class="block text-gray-700 font-bold mb-2">
                    Email Digest Frequency
                </label>
                <select id="digest_frequency" name="digest_frequency"
                        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                    <option value="never" 
                            {% if membership.notification_settings.digest == 'never' %}selected{% endif %}>
                        Never
                    </option>
                    <option value="daily" 
                            {% if membership.notification_settings.digest == 'daily' %}selected{% endif %}>
                        Daily
                    </option>
                    <option value="weekly" 
                            {% if membership.notification_settings.digest == 'weekly' %}selected{% endif %}>
                        Weekly
                    </option>
                    <option value="monthly" 
                            {% if membership.notification_settings.digest == 'monthly' %}selected{% endif %}>
                        Monthly
                    </option>
                </select>
            </div>
            
            <button type="submit" 
                    class="w-full bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">
                Save Settings
            </button>
        </form>
    </div>
</div>
{% endblock %}
