{% extends "base.html" %}

{% block content %}
<div class="hero">
    <h1 class="hero-title">Connect with Your Tribe</h1>
    <p class="hero-subtitle">Share memories, stories, and experiences with your closest circles - whether it's family, friends, or your community.</p>
</div>

<div class="tribe-actions">
    <div class="tribe-card">
        <h2>Join Your Tribe</h2>
        <p>Have an invitation code? Enter it below to join your tribe.</p>
        <form method="POST" action="{{ url_for('main.join_tribe_by_code') }}" class="tribe-form">
            <input type="text" id="tribe_code" name="tribe_code" placeholder="Enter your tribe code" required>
            <button type="submit" class="btn-primary">JOIN TRIBE</button>
        </form>
    </div>

    <div class="tribe-card">
        <h2>Create a New Tribe</h2>
        <p>Start your own tribe and invite others to join.</p>
        <a href="{{ url_for('main.create_tribe') }}" class="btn-secondary">CREATE TRIBE</a>
    </div>
</div>

<div class="features">
    <div class="feature-card">
        <h3>Share Stories</h3>
        <p>Create and share meaningful memories with your tribe through photos, stories, and experiences.</p>
    </div>
    <div class="feature-card">
        <h3>Stay Connected</h3>
        <p>Keep your tribe close no matter the distance. Share updates, milestones, and daily moments.</p>
    </div>
    <div class="feature-card">
        <h3>Preserve History</h3>
        <p>Build a lasting digital archive of your tribe's memories and experiences for future generations.</p>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const joinForm = document.querySelector('.tribe-form');
    const createButton = document.querySelector('.create-tribe .btn-secondary');

    joinForm.addEventListener('submit', function(e) {
        e.preventDefault();
        window.location.href = "{{ url_for('auth.register') }}?next=join_tribe&code=" + document.getElementById('tribe_code').value;
    });

    createButton.addEventListener('click', function(e) {
        e.preventDefault();
        window.location.href = "{{ url_for('auth.register') }}?next=create_tribe";
    });
});
</script>
{% endblock %}
